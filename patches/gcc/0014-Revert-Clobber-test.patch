From ce4776d2cfbec8342bff3e223f06e04d6c2239bb Mon Sep 17 00:00:00 2001
From: Dimitar Dimitrov <dimitar@dinux.eu>
Date: Fri, 22 Jun 2018 06:36:49 +0300
Subject: [PATCH 14/19] Revert "Clobber test"

This reverts commit ee9131d889b5f3e98e90f7b14e60ad60e3c2cbcd.
---
 gcc/testsuite/gcc.target/pru/clobber-sp.c | 45 -------------------------------
 1 file changed, 45 deletions(-)
 delete mode 100644 gcc/testsuite/gcc.target/pru/clobber-sp.c

diff --git a/gcc/testsuite/gcc.target/pru/clobber-sp.c b/gcc/testsuite/gcc.target/pru/clobber-sp.c
deleted file mode 100644
index 66f975f185f..00000000000
--- a/gcc/testsuite/gcc.target/pru/clobber-sp.c
+++ /dev/null
@@ -1,45 +0,0 @@
-/* Test inline ASM clobber for SP register */
-
-/* { dg-do run } */
-/* { dg-options "-O1" } */
-
-/* -O1 in the options is significant.  */
-
-extern void abort (void);
-
-int
-test1 (void)
-{
-  int res;
-
-#ifdef __PRU__
-  asm volatile(
-	       "ldi	%[res], 101		\n\t"
-	       "ldi32	sp, 0xaa55aa55		\n\t"
-	       : [res] "=r" (res)
-	       :
-	       : "sp");
-#else
-  asm volatile(
-	       "movl	$101, %[res]		\n\t"
-	       "movq	$0xaa55aa55, %%rsp	\n\t"
-	       "movq	$0xaa55aa55, %%rbp	\n\t"
-	       : [res] "=r" (res)
-	       :
-	       : "%rsp", "%rbp");
-#endif
-
-  return res;
-}
-
-#if 1
-int
-main (int argc, char** argv)
-{
-  if (test1 () != 101)
-    abort();
-
-  return 0;
-}
-
-#endif
-- 
2.11.0

