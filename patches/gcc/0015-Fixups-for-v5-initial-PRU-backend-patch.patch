From d5ae18b9da75e4a22c998ab7e6dd65b2d9fc1411 Mon Sep 17 00:00:00 2001
From: Dimitar Dimitrov <dimitar@dinux.eu>
Date: Thu, 18 Oct 2018 07:11:23 +0300
Subject: [PATCH 15/19] Fixups for v5 initial PRU backend patch

Signed-off-by: Dimitar Dimitrov <dimitar@dinux.eu>
---
 gcc/config/pru/predicates.md |  3 ---
 gcc/config/pru/pru.md        | 10 ++++------
 gcc/config/pru/pru.opt       |  2 +-
 gcc/doc/invoke.texi          |  8 ++++----
 4 files changed, 9 insertions(+), 14 deletions(-)

diff --git a/gcc/config/pru/predicates.md b/gcc/config/pru/predicates.md
index 0e34d9c1a31..3e0a776ca54 100644
--- a/gcc/config/pru/predicates.md
+++ b/gcc/config/pru/predicates.md
@@ -75,7 +75,6 @@
       else
 	return 0;
 
-
       return REGNO_REG_CLASS (regno) == MULDST_REGS
 	     || regno >= FIRST_PSEUDO_REGISTER;
     }
@@ -96,7 +95,6 @@
       else
 	return 0;
 
-
       return REGNO_REG_CLASS (regno) == MULSRC0_REG
 	     || regno >= FIRST_PSEUDO_REGISTER;
     }
@@ -117,7 +115,6 @@
       else
 	return 0;
 
-
       return REGNO_REG_CLASS (regno) == MULSRC1_REG
 	     || regno >= FIRST_PSEUDO_REGISTER;
     }
diff --git a/gcc/config/pru/pru.md b/gcc/config/pru/pru.md
index 248ae2c953d..1fa5f9310b0 100644
--- a/gcc/config/pru/pru.md
+++ b/gcc/config/pru/pru.md
@@ -933,12 +933,10 @@
       (if_then_else
 	(and (ge (minus (pc) (match_dup 1)) (const_int 0))
 	     (le (minus (pc) (match_dup 1)) (const_int 1020)))
-	(cond [(eq_attr "alternative" "0") (const_int 4)
-	       (eq_attr "alternative" "0") (const_int 12)]
-	       (const_int 4))
-	(cond [(eq_attr "alternative" "0") (const_int 12)
-	       (eq_attr "alternative" "0") (const_int 20)]
-	       (const_int 4))))])
+	(cond [(eq_attr "alternative" "0") (const_int 4)]
+	       (const_int 12))
+	(cond [(eq_attr "alternative" "0") (const_int 12)]
+	       (const_int 20))))])
 
 (define_expand "doloop_end"
   [(use (match_operand 0 "nonimmediate_operand"))
diff --git a/gcc/config/pru/pru.opt b/gcc/config/pru/pru.opt
index fb9b0fcbf5c..b112ac56fa2 100644
--- a/gcc/config/pru/pru.opt
+++ b/gcc/config/pru/pru.opt
@@ -32,7 +32,7 @@ Target RejectNegative Joined
 
 mno-relax
 Target Report RejectNegative
-Make GCC pass --no-relax command-line option to the linker instead of
+Make GCC pass the --no-relax command-line option to the linker instead of
 the --relax option.
 
 mloop
diff --git a/gcc/doc/invoke.texi b/gcc/doc/invoke.texi
index fce16664b8b..99656dcf646 100644
--- a/gcc/doc/invoke.texi
+++ b/gcc/doc/invoke.texi
@@ -23723,9 +23723,9 @@ These command-line options are defined for PRU target:
 @opindex minrt
 Link with a minimum runtime environment, with no support for static
 initializers and constructors.  Using this option can significantly reduce
-the size of the final ELF binary.  Beware that compiler could still generate
-code with static initializers and constructors.  It is up to the programmer
-to ensure that the source program will not use those features.
+the size of the final ELF binary.  Beware that the compiler could still
+generate code with static initializers and constructors.  It is up to the
+programmer to ensure that the source program will not use those features.
 
 @item -mmcu=@var{mcu}
 @opindex mmcu
@@ -23734,7 +23734,7 @@ supported MCUs.
 
 @item -mno-relax
 @opindex mno-relax
-Make GCC pass @option{--no-relax} command-line option to the linker
+Make GCC pass the @option{--no-relax} command-line option to the linker
 instead of the @option{--relax} option.
 
 @item -mloop
-- 
2.11.0

